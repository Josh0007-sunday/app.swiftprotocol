{
  "_format": "hh-sol-artifact-1",
  "contractName": "BasePay",
  "sourceName": "contracts/Invoice.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "invoiceHash",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "merchant",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "memo",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "dueBy",
          "type": "uint256"
        }
      ],
      "name": "InvoiceCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "invoiceHash",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "payer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "paidAt",
          "type": "uint256"
        }
      ],
      "name": "InvoicePaid",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "_invoiceHash",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "_token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_validForSeconds",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "_memo",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "_logoURI",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "_description",
          "type": "string"
        }
      ],
      "name": "createInvoice",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "merchant",
          "type": "address"
        }
      ],
      "name": "getInvoiceCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "merchant",
          "type": "address"
        }
      ],
      "name": "getInvoicesByMerchant",
      "outputs": [
        {
          "internalType": "bytes32[]",
          "name": "",
          "type": "bytes32[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "invoices",
      "outputs": [
        {
          "internalType": "address",
          "name": "merchant",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "dueBy",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isPaid",
          "type": "bool"
        },
        {
          "internalType": "string",
          "name": "memo",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "logoURI",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "description",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "paidAt",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "merchantInvoices",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "_invoiceHash",
          "type": "bytes32"
        }
      ],
      "name": "payInvoice",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052348015600f57600080fd5b50610cca8061001f6000396000f3fe6080604052600436106100555760003560e01c806309f6d5e81461005a57806313e5969f1461009057806314d771b0146100d4578063222ab347146100f457806360230d5314610109578063f8a8a07614610129575b600080fd5b34801561006657600080fd5b5061007a61007536600461080b565b61015e565b604051610087919061082d565b60405180910390f35b34801561009c57600080fd5b506100c66100ab36600461080b565b6001600160a01b031660009081526001602052604090205490565b604051908152602001610087565b3480156100e057600080fd5b506100c66100ef366004610870565b6101ca565b61010761010236600461089a565b6101fb565b005b34801561011557600080fd5b50610107610124366004610958565b610418565b34801561013557600080fd5b5061014961014436600461089a565b6105fc565b60405161008799989796959493929190610a60565b6001600160a01b0381166000908152600160209081526040918290208054835181840281018401909452808452606093928301828280156101be57602002820191906000526020600020905b8154815260200190600101908083116101aa575b50505050509050919050565b600160205281600052604060002081815481106101e657600080fd5b90600052602060002001600091509150505481565b6000818152602081905260409020600481015460ff16156102525760405162461bcd60e51b815260206004820152600c60248201526b105b1c9958591e481c185a5960a21b60448201526064015b60405180910390fd5b60038101541580610267575080600301544211155b6102a55760405162461bcd60e51b815260206004820152600f60248201526e125b9d9bda58d948195e1c1a5c9959608a1b6044820152606401610249565b60018101546001600160a01b031661033857806002015434146102fa5760405162461bcd60e51b815260206004820152600d60248201526c092dcc6dee4e4cac6e8408aa89609b1b6044820152606401610249565b80546040516001600160a01b03909116903480156108fc02916000818181858888f19350505050158015610332573d6000803e3d6000fd5b506103c0565b6001810154815460028301546040516323b872dd60e01b81523360048201526001600160a01b03928316602482015260448101919091529116906323b872dd906064016020604051808303816000875af115801561039a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103be9190610ae1565b505b60048101805460ff191660011790554260088201819055604051339184917e3f2f2b3be6b2550346a6db5e609148d1113f09128692bd7234f1e7825cbc429161040c9190815260200190565b60405180910390a35050565b6000878152602081905260409020546001600160a01b03161561046e5760405162461bcd60e51b815260206004820152600e60248201526d496e766f6963652065786973747360901b6044820152606401610249565b60408051610120810182523381526001600160a01b03881660208201529081018690526060810185156104aa576104a58642610b03565b6104ad565b60005b81526000602080830182905260408084018890526060808501889052608080860188905260a09586018590528d855284845293829020865181546001600160a01b03199081166001600160a01b039283161783559488015160018301805490961691161790935590850151600283015584015160038201559083015160048201805460ff191691151591909117905590820151600582019061054f9082610bb3565b5060c082015160068201906105649082610bb3565b5060e082015160078201906105799082610bb3565b5061010091909101516008909101553360008181526001602081815260408084208054938401815584528184209092018b90558a83528290529081902060030154905189917ffec6f9ad9e82768eeb1a1390f07ee49c2797162f70a1eac59e190782c27db8a3916105eb918891610c72565b60405180910390a350505050505050565b6000602081905290815260409020805460018201546002830154600384015460048501546005860180546001600160a01b039687169796909516959394929360ff9092169261064a90610b2a565b80601f016020809104026020016040519081016040528092919081815260200182805461067690610b2a565b80156106c35780601f10610698576101008083540402835291602001916106c3565b820191906000526020600020905b8154815290600101906020018083116106a657829003601f168201915b5050505050908060060180546106d890610b2a565b80601f016020809104026020016040519081016040528092919081815260200182805461070490610b2a565b80156107515780601f1061072657610100808354040283529160200191610751565b820191906000526020600020905b81548152906001019060200180831161073457829003601f168201915b50505050509080600701805461076690610b2a565b80601f016020809104026020016040519081016040528092919081815260200182805461079290610b2a565b80156107df5780601f106107b4576101008083540402835291602001916107df565b820191906000526020600020905b8154815290600101906020018083116107c257829003601f168201915b5050505050908060080154905089565b80356001600160a01b038116811461080657600080fd5b919050565b60006020828403121561081d57600080fd5b610826826107ef565b9392505050565b602080825282518282018190526000918401906040840190835b81811015610865578351835260209384019390920191600101610847565b509095945050505050565b6000806040838503121561088357600080fd5b61088c836107ef565b946020939093013593505050565b6000602082840312156108ac57600080fd5b5035919050565b634e487b7160e01b600052604160045260246000fd5b600082601f8301126108da57600080fd5b813567ffffffffffffffff8111156108f4576108f46108b3565b604051601f8201601f19908116603f0116810167ffffffffffffffff81118282101715610923576109236108b3565b60405281815283820160200185101561093b57600080fd5b816020850160208301376000918101602001919091529392505050565b600080600080600080600060e0888a03121561097357600080fd5b87359650610983602089016107ef565b95506040880135945060608801359350608088013567ffffffffffffffff8111156109ad57600080fd5b6109b98a828b016108c9565b93505060a088013567ffffffffffffffff8111156109d657600080fd5b6109e28a828b016108c9565b92505060c088013567ffffffffffffffff8111156109ff57600080fd5b610a0b8a828b016108c9565b91505092959891949750929550565b6000815180845260005b81811015610a4057602081850181015186830182015201610a24565b506000602082860101526020601f19601f83011685010191505092915050565b6001600160a01b038a81168252891660208201526040810188905260608101879052851515608082015261012060a08201819052600090610aa390830187610a1a565b82810360c0840152610ab58187610a1a565b905082810360e0840152610ac98186610a1a565b915050826101008301529a9950505050505050505050565b600060208284031215610af357600080fd5b8151801515811461082657600080fd5b80820180821115610b2457634e487b7160e01b600052601160045260246000fd5b92915050565b600181811c90821680610b3e57607f821691505b602082108103610b5e57634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115610bae57806000526020600020601f840160051c81016020851015610b8b5750805b601f840160051c820191505b81811015610bab5760008155600101610b97565b50505b505050565b815167ffffffffffffffff811115610bcd57610bcd6108b3565b610be181610bdb8454610b2a565b84610b64565b6020601f821160018114610c155760008315610bfd5750848201515b600019600385901b1c1916600184901b178455610bab565b600084815260208120601f198516915b82811015610c455787850151825560209485019460019092019101610c25565b5084821015610c635786840151600019600387901b60f8161c191681555b50505050600190811b01905550565b604081526000610c856040830185610a1a565b9050826020830152939250505056fea26469706673582212204d28b9e593f894a9db833580b372333971cbcb333f803c094f0b159b8d18079964736f6c634300081c0033",
  "deployedBytecode": "0x6080604052600436106100555760003560e01c806309f6d5e81461005a57806313e5969f1461009057806314d771b0146100d4578063222ab347146100f457806360230d5314610109578063f8a8a07614610129575b600080fd5b34801561006657600080fd5b5061007a61007536600461080b565b61015e565b604051610087919061082d565b60405180910390f35b34801561009c57600080fd5b506100c66100ab36600461080b565b6001600160a01b031660009081526001602052604090205490565b604051908152602001610087565b3480156100e057600080fd5b506100c66100ef366004610870565b6101ca565b61010761010236600461089a565b6101fb565b005b34801561011557600080fd5b50610107610124366004610958565b610418565b34801561013557600080fd5b5061014961014436600461089a565b6105fc565b60405161008799989796959493929190610a60565b6001600160a01b0381166000908152600160209081526040918290208054835181840281018401909452808452606093928301828280156101be57602002820191906000526020600020905b8154815260200190600101908083116101aa575b50505050509050919050565b600160205281600052604060002081815481106101e657600080fd5b90600052602060002001600091509150505481565b6000818152602081905260409020600481015460ff16156102525760405162461bcd60e51b815260206004820152600c60248201526b105b1c9958591e481c185a5960a21b60448201526064015b60405180910390fd5b60038101541580610267575080600301544211155b6102a55760405162461bcd60e51b815260206004820152600f60248201526e125b9d9bda58d948195e1c1a5c9959608a1b6044820152606401610249565b60018101546001600160a01b031661033857806002015434146102fa5760405162461bcd60e51b815260206004820152600d60248201526c092dcc6dee4e4cac6e8408aa89609b1b6044820152606401610249565b80546040516001600160a01b03909116903480156108fc02916000818181858888f19350505050158015610332573d6000803e3d6000fd5b506103c0565b6001810154815460028301546040516323b872dd60e01b81523360048201526001600160a01b03928316602482015260448101919091529116906323b872dd906064016020604051808303816000875af115801561039a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103be9190610ae1565b505b60048101805460ff191660011790554260088201819055604051339184917e3f2f2b3be6b2550346a6db5e609148d1113f09128692bd7234f1e7825cbc429161040c9190815260200190565b60405180910390a35050565b6000878152602081905260409020546001600160a01b03161561046e5760405162461bcd60e51b815260206004820152600e60248201526d496e766f6963652065786973747360901b6044820152606401610249565b60408051610120810182523381526001600160a01b03881660208201529081018690526060810185156104aa576104a58642610b03565b6104ad565b60005b81526000602080830182905260408084018890526060808501889052608080860188905260a09586018590528d855284845293829020865181546001600160a01b03199081166001600160a01b039283161783559488015160018301805490961691161790935590850151600283015584015160038201559083015160048201805460ff191691151591909117905590820151600582019061054f9082610bb3565b5060c082015160068201906105649082610bb3565b5060e082015160078201906105799082610bb3565b5061010091909101516008909101553360008181526001602081815260408084208054938401815584528184209092018b90558a83528290529081902060030154905189917ffec6f9ad9e82768eeb1a1390f07ee49c2797162f70a1eac59e190782c27db8a3916105eb918891610c72565b60405180910390a350505050505050565b6000602081905290815260409020805460018201546002830154600384015460048501546005860180546001600160a01b039687169796909516959394929360ff9092169261064a90610b2a565b80601f016020809104026020016040519081016040528092919081815260200182805461067690610b2a565b80156106c35780601f10610698576101008083540402835291602001916106c3565b820191906000526020600020905b8154815290600101906020018083116106a657829003601f168201915b5050505050908060060180546106d890610b2a565b80601f016020809104026020016040519081016040528092919081815260200182805461070490610b2a565b80156107515780601f1061072657610100808354040283529160200191610751565b820191906000526020600020905b81548152906001019060200180831161073457829003601f168201915b50505050509080600701805461076690610b2a565b80601f016020809104026020016040519081016040528092919081815260200182805461079290610b2a565b80156107df5780601f106107b4576101008083540402835291602001916107df565b820191906000526020600020905b8154815290600101906020018083116107c257829003601f168201915b5050505050908060080154905089565b80356001600160a01b038116811461080657600080fd5b919050565b60006020828403121561081d57600080fd5b610826826107ef565b9392505050565b602080825282518282018190526000918401906040840190835b81811015610865578351835260209384019390920191600101610847565b509095945050505050565b6000806040838503121561088357600080fd5b61088c836107ef565b946020939093013593505050565b6000602082840312156108ac57600080fd5b5035919050565b634e487b7160e01b600052604160045260246000fd5b600082601f8301126108da57600080fd5b813567ffffffffffffffff8111156108f4576108f46108b3565b604051601f8201601f19908116603f0116810167ffffffffffffffff81118282101715610923576109236108b3565b60405281815283820160200185101561093b57600080fd5b816020850160208301376000918101602001919091529392505050565b600080600080600080600060e0888a03121561097357600080fd5b87359650610983602089016107ef565b95506040880135945060608801359350608088013567ffffffffffffffff8111156109ad57600080fd5b6109b98a828b016108c9565b93505060a088013567ffffffffffffffff8111156109d657600080fd5b6109e28a828b016108c9565b92505060c088013567ffffffffffffffff8111156109ff57600080fd5b610a0b8a828b016108c9565b91505092959891949750929550565b6000815180845260005b81811015610a4057602081850181015186830182015201610a24565b506000602082860101526020601f19601f83011685010191505092915050565b6001600160a01b038a81168252891660208201526040810188905260608101879052851515608082015261012060a08201819052600090610aa390830187610a1a565b82810360c0840152610ab58187610a1a565b905082810360e0840152610ac98186610a1a565b915050826101008301529a9950505050505050505050565b600060208284031215610af357600080fd5b8151801515811461082657600080fd5b80820180821115610b2457634e487b7160e01b600052601160045260246000fd5b92915050565b600181811c90821680610b3e57607f821691505b602082108103610b5e57634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115610bae57806000526020600020601f840160051c81016020851015610b8b5750805b601f840160051c820191505b81811015610bab5760008155600101610b97565b50505b505050565b815167ffffffffffffffff811115610bcd57610bcd6108b3565b610be181610bdb8454610b2a565b84610b64565b6020601f821160018114610c155760008315610bfd5750848201515b600019600385901b1c1916600184901b178455610bab565b600084815260208120601f198516915b82811015610c455787850151825560209485019460019092019101610c25565b5084821015610c635786840151600019600387901b60f8161c191681555b50505050600190811b01905550565b604081526000610c856040830185610a1a565b9050826020830152939250505056fea26469706673582212204d28b9e593f894a9db833580b372333971cbcb333f803c094f0b159b8d18079964736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
